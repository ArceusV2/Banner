<!DOCTYPE html>
<html>
<head>
    <title>Refresh Banner</title>
</head>
<body>
    <h1>Refresh Banner</h1>
    <button onclick="refreshBanner()">Refresh Banner</button>

    <script>
        const units = {
            "rare": ["RareUnit1", "RareUnit2", "RareUnit3", "RareUnit4", "RareUnit5"],
            "epic": ["EpicUnit1", "EpicUnit2", "EpicUnit3", "EpicUnit4", "EpicUnit5"],
            "legendary": ["LegendaryUnit1", "LegendaryUnit2", "LegendaryUnit3"]
        };

        function getRandomUnits(category, count) {
            const shuffled = units[category].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        async function refreshBanner() {
            const banner = {
                "rare": getRandomUnits("rare", 3),
                "epic": getRandomUnits("epic", 3),
                "legendary": getRandomUnits("legendary", 2)
            };

            const response = await fetch('https://api.github.com/repos/ArceusV2/Banner/contents/banner.json');
            const data = await response.json();
            const sha = data.sha;

            await fetch('https://api.github.com/repos/ArceusV2/Banner/contents/banner.json', {
                method: 'PUT',
                headers: {
                    'Authorization': 'token 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',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    message: 'Update banner',
                    content: btoa(JSON.stringify(banner)),
                    sha: sha
                })
            })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error('Error:', error));
        }
    </script>
</body>
</html>
